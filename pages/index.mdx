import { Callout, Steps, Cards, Card } from "nextra/components";
import Image from "next/image";
import Link from "next/link";
import { useEffect, useState } from 'react';
import { Analytics } from "@vercel/analytics/next"

export default function App() {
   const [cards, setCards] = useState([]);

  useEffect(() => {
       async function fetchCards() {
      try {
      const response = await fetch('/tree.json');
      const data = await response.json();
          setCards(
            data.Modules?.map(element => {
              return (<Card title={`${element.name} (${element.children ? element.children.length : "0"})`} href={element.href} />);
            })
          );
      } catch (error) {
+      console.error('Failed to fetch cards:', error);
     }
    }
    fetchCards();
  }, []);
  return (
    <>
    <Analytics/>
    <title>Best Free Raven Client</title>
      <h1>Introducing Raven Bs</h1>
      <p>Raven B4, but for those who can't afford it.</p>
      <p>Raven B4, but not only for Hypixel.</p>

      <h3>How to get started with Raven Bs</h3>
      <Callout type="info">This only works with Forge 1.8.9</Callout>
      <Steps>
        <h3>Step 1</h3>
        <p>
          Download the latest version of Raven Bs from the{" "}
          <a href="https://github.com/xia-mc/Raven-bS/releases/latest"><strong>releases</strong></a> page.
        </p>
        <h3>Step 2</h3>
        <p>Install the mod by dragging the downloaded file into your mods folder.</p>
        <h3>Step 3</h3>
        <p>Launch Minecraft and enjoy!</p>
      </Steps>

      <h4>Features</h4>
      <p>
        Raven Bs has over 9 categories of modules with over 105+ modules in
        total. It also has a custom GUI and a lot of customization options.
      </p>

      <Cards>
      {cards.length > 0 ? cards : <p>Loading...</p>}
      </Cards>
<Callout type="info" emoji="ℹ️">
  Raven Bs prevents Forge from sending the mod list to servers. This allows you to join your favorite servers with mods that might be blacklisted (e.g., MacroKeybinding, Perspective Mod, etc.) on servers like Hypixel.
</Callout>
<br/>
          <Image src="/demo.png" alt="Raven Bs" width={1920} height={1080} />
    </>
  );
}
